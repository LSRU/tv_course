<!DOCTYPE html>
<html>
<head>
  <title>Data structures</title>

  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Data structures',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                        favIcon: 'lecture02_data_structure_files/logo.png',
              },

      // Author information
      presenters: [
            {
        name:  'A. Ginolhac, E. Koncina, R. Krause' ,
        company: '',
        gplus: '',
        twitter: '',
        www: '',
        github: ''
      },
            ]
    };
  </script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }
  </style>


  <link href="site_libs/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="site_libs/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/hammer.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-deck.js"></script>
  <link href="site_libs/iosp-0.1/css/iosp.css" rel="stylesheet" />
  <script src="site_libs/iosp-0.1/js/lang-r.js"></script>
  <style type="text/css">
  
    .bg-orange {
      background-color: #FF8C00;
    }
  
    .box.bg-orange {
      border: 2px solid #804600;
      color: #000;
    }
  
    .box.bg-orange > h3:first-child {
      background-color: #804600;
      color: #fff;
    }
  
    .bg-slate {
      background-color: #7A67EE;
    }
  
    .box.bg-slate {
      border: 2px solid #3D3477;
      color: #fff;
    }
  
    .box.bg-slate > h3:first-child {
      background-color: #3D3477;
      color: #fff;
    }
  
    .bg-yellow {
      background-color: #FFFF00;
    }
  
    .box.bg-yellow {
      border: 2px solid #EEC900;
      color: #000;
    }
  
    .box.bg-yellow > h3:first-child {
      background-color: #EEC900;
      color: #000;
    }
  
    .bg-grgold {
      background-color: #008B45;
    }
  
    .box.bg-grgold {
      border: 2px solid #004622;
      color: #fff;
    }
  
    .box.bg-grgold > h3:first-child {
      background-color: #004622;
      color: #FFD700;
    }
  </style>

</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <aside class="gdbar"><img src="lecture02_data_structure_files/logo.png"></aside>
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
            <p style="margin-top: 6px; margin-left: -2px;">2 May 2017</p>
          </hgroup>
  </slide>

<slide class=''><hgroup><h2>Getting started</h2></hgroup><article  id="getting-started" class="smaller ">

<p>Let&#39;s get ready to use <strong>R</strong> and <strong>RStudio</strong>. Do the following:</p>

<ul>
<li>Open up RStudio</li>
<li>Maximize the RStudio window</li>
<li>Click the Console pane, at the prompt (<code>&gt;</code>) type in <code>3 + 2</code> and hit enter</li>
</ul>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>&gt; 3 + 2</pre></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Arithmetic operations</h2></hgroup><article  id="arithmetic-operations" class="smaller ">

<p>You will not be surprised that <strong>R</strong> is very good at computing</p>

<div class = 'row'><div class = 'col-6 bg-green box'><h3>arithmetic operators</h3>

<ul>
<li><code>+</code>: addition<br/></li>
<li><code>-</code>: subtraction<br/></li>
<li><code>*</code>: multiplication<br/></li>
<li><code>/</code>: division<br/></li>
<li><code>^</code> or <code>**</code>: exponentiation</li>
<li><code>%%</code>: modulo (remainder after division)</li>
<li><code>%/%</code>: integer division</li>
</ul>

</div><div class = 'box col-6 bg-orange stretch'><h3>Remember</h3>

<p><strong>R</strong> will:</p>

<ul>
<li>first perform <strong>exponentiation</strong></li>
<li>then multiplications and/or divisions</li>
<li>and finally additions and/or subtractions.</li>
</ul>

<p>If you need to change the priority during the evaluation, use parentheses – <em>i.e.</em> <code>(</code> and <code>)</code> – to group calculations.</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class='segue dark nobackground level1'><hgroup class = 'auto-fadein'><h2>Data types and structures </h2><h3> R base</h3></hgroup><article  id="data-types-and-structures-r-base" class="smaller ">

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Necessary R base</h2></hgroup><article  id="necessary-r-base" class="smaller vs2">

<div class = 'row'><div class = 'bg-orange col-12 box'><h3>R base</h3>

<p>We could let <strong>base</strong> down, but the <strong>tidyverse</strong> is wrapping around it. Some functions need to be known</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>4 main types</h2></hgroup><article  id="main-types" class="smaller ">

<table class = 'rmdtable'>
<tr class="header">
<th align="left">Type</th>
<th align="left">Example</th>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">integer (2), double (2.34)</td>
</tr>
<tr class="even">
<td align="left">string</td>
<td align="left">&quot;tidyverse !&quot;</td>
</tr>
<tr class="odd">
<td align="left">boolean</td>
<td align="left">TRUE / FALSE</td>
</tr>
<tr class="even">
<td align="left">complex</td>
<td align="left">2+0i</td>
</tr>
</table>

<h3>Special case</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>NA   # not available, missing data
NA_real_
NA_integer_
NA_character_
NA_complex_
NULL # empty</pre></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Structures</h2></hgroup><article  id="structures" class="smaller ">

<div class = 'row'><div class = 'col-5 box stretch'><h3>Vectors</h3>

<p><code>c()</code> is the function for <strong>concatenate</strong></p>

</div><div class = 'col-7 box bg-cobalt stretch'><h3>Example</h3>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>4
c(43, 5.6, 2.90)</pre></div>

<div class="col-6">
<pre >[1] 4
[1] 43.0  5.6  2.9</pre></div></div></div>

</div></div><div class = 'row'><div class = 'col-5 box stretch'><h3>Factors</h3>

<p>convert strings to factors, <code>levels</code> is the dictionary</p>

</div><div class = 'box col-7 bg-cobalt stretch'><h3>Example</h3>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>factor(c(&quot;AA&quot;, &quot;BB&quot;, &quot;AA&quot;, &quot;CC&quot;))</pre></div>

<div class="col-6">
<pre >[1] AA BB AA CC
Levels: AA BB CC</pre></div></div></div>

</div></div><div class = 'row'><div class = 'col-5 box stretch'><h3>Matrix (2D), Arrays (\(\geq\) 3D)</h3>

<p>won&#39;t dig into those</p>

</div><div class = 'col-7 box bg-cobalt stretch'><h3>Example</h3>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>matrix(1:4, nrow = 2)</pre></div>

<div class="col-6">
<pre >     [,1] [,2]
[1,]    1    3
[2,]    2    4</pre></div></div></div>

</div></div><div class = 'row'><div class = 'col-5 box bg-green'><h3>Lists</h3>

<p>very important as can contain anything</p>

</div><div class = 'col-7 box bg-cobalt'><h3>Example</h3>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>list(f = factor(c(&quot;AA&quot;, &quot;AA&quot;)),
     v = c(43, 5.6, 2.90),
     s = 4)</pre></div>

<div class="col-6">
<pre >$f
[1] AA AA
Levels: AA

$v
[1] 43.0  5.6  2.9

$s
[1] 4</pre></div></div></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Data frames are special lists</h2></hgroup><article  id="data-frames-are-special-lists" class="smaller ">

<div class = 'row'><div class = 'col-5 box bg-green stretch'><h3><code>data.frame</code></h3>

<p>same as list <strong>but</strong> where all objects <em>must</em> have the <strong>same</strong> length</p>

</div><div class = 'col-7 box bg-cobalt stretch'><h3>Example</h3>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>data.frame(
  f = c(&quot;AA&quot;, &quot;AA&quot;, &quot;BB&quot;) %&gt;% factor(),
  v = c(43, 5.6, 2.90),
  s = rep(4, 3))</pre></div>

<div class="col-6">
<pre >   f    v s
1 AA 43.0 4
2 AA  5.6 4
3 BB  2.9 4</pre></div></div></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Data types 2</h2></hgroup><article  id="data-types-2" class="smaller ">

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'># evaluate
typeof(2)</pre>

<pre >[1] &quot;double&quot;</pre>

<pre class = 'prettyprint lang-r'># check
is.integer(2.34)</pre>

<pre >[1] FALSE</pre>

<pre class = 'prettyprint lang-r'># check with an actual integer
is.integer(2L)</pre>

<pre >[1] TRUE</pre>

<pre class = 'prettyprint lang-r'># convert
as.integer(2.34)</pre>

<pre >[1] 2</pre></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class='segue dark nobackground level1'><hgroup class = 'auto-fadein'><h2>Vectors</h2></hgroup><article  id="vectors-1" class="smaller ">

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectors</h2></hgroup><article  id="vectors-2" class="smaller ">

<p><strong>Vectors</strong> are the simplest type of <em>object</em> in <strong>R</strong>.</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>print(5)</pre>

<pre >[1] 5</pre></div>

<p><strong>[1]</strong> means we made a numeric vector of length 1. Now look at what the <strong><code>:</code></strong> operator does:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>1:30</pre>

<pre > [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
[24] 24 25 26 27 28 29 30</pre></div>

<p>How many elements are in the thing we made here? What does the <strong>[24]</strong> signify?</p>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectors </h2><h3> concatenate</h3></hgroup><article  id="vectors-concatenate" class="smaller ">

<p>Think of vectors as collections of simple things (like numbers) that are ordered. We can create vectors from other vectors using the <strong><code>c</code></strong> function:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>c(2, TRUE, &quot;a string&quot;)</pre>

<pre >[1] &quot;2&quot;        &quot;TRUE&quot;     &quot;a string&quot;</pre></div>

<p>We can use the <strong>assignment operator</strong> <code>&lt;-</code> to associate a name to our vectors in order to reuse them:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>my_vec &lt;- c(3, 4, 1:3)
my_vec</pre>

<pre >[1] 3 4 1 2 3</pre></div>

<div class = 'row'><div class = 'box col-6 bg-green'><h3>Tip</h3>

<p>Rstudio has the built-in shortcut <kbd>Alt</kbd>+<kbd>-</kbd> for <code>&lt;-</code></p>

</div><div class = 'box col-6 bg-orange stretch'><h3>Advice</h3>

<p>Even if <code>=</code> works also for <code>&lt;-</code>, don&#39;t use it, see <a href='https://ironholds.org/projects/rbitrary/#okay.-and-should-we-be-using---or-people-keep-telling-me-to-use--.' title=''>why</a></p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectors </h2><h3> (cont.)</h3></hgroup><article  id="vectors-cont." class="smaller ">

<p>The following will build a <em>character</em> vector. We know this because the elements are all in &quot;quotes&quot;.</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>char_vec &lt;- c(&quot;dog&quot;, &quot;cat&quot;, &quot;ape&quot;)</pre></div>

<p>Now use the <strong><code>c</code></strong> function to combine a length-one vector number of the number <code>4</code> with the <code>char_vec</code>. What happens?</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>c(4, char_vec)</pre>

<pre >[1] &quot;4&quot;   &quot;dog&quot; &quot;cat&quot; &quot;ape&quot;</pre></div>

<p>Notice that the 4 is quoted. <strong>R</strong> turned it into a <strong>character</strong> vector and then combined it with <code>char_vec</code>.</p>

<div class = 'row'><div class = 'box col-6 bg-green'><h3>Remember</h3>

<p>All elements in a <strong>atomic</strong> vector <strong>must</strong> be of the <strong>same</strong> type. Otherwise, they are silently coerced.</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectors </h2><h3> Hierachy</h3></hgroup><article  id="vectors-hierachy" class="smaller vs2">

<p><img src="http://r4ds.had.co.nz/diagrams/data-structures-overview.png" width="50%" /></p>

<p><span class="small">
source: <strong>H. Wickham</strong> - <a href='http://r4ds.had.co.nz/vectors.html' title=''><em>R</em> for data science</a>, <a href='http://creativecommons.org/licenses/by-nc-nd/3.0/us/' title=''>licence CC</a></span></p>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectors </h2><h3> built-in</h3></hgroup><article  id="vectors-built-in" class="smaller ">

<p>R has a few built in vectors. One of these is <code>LETTERS</code>. What does it contain?</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>LETTERS</pre>

<pre > [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot;
[18] &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</pre></div>

<p>How do extract the first element from this (the letter <code>A</code>). Here is how to do it:</p>

<div class = 'row'><div class = 'col-6'>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>LETTERS[1]</pre>

<pre >[1] &quot;A&quot;</pre></div>

</div><div class = 'col-6'>

<p>Use the square brackets <code>[]</code> to subset vectors</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectors </h2><h3> subset</h3></hgroup><article  id="vectors-subset" class="smaller vs2">

<div class = 'row'><div class = 'box col-8 offset-2 bg-orange'><h3>Important</h3>

<p>Unlike <strong>python</strong> or <strong>Perl</strong>, vectors use <strong>1-based</strong> index!!</p>

</div></div>

<div class = 'row'><div class = 'col-6'><h3>How to extract &gt; 1 element</h3>

<p>select elements from position <strong>3</strong> to <strong>10</strong>:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>LETTERS[3:10]</pre>

<pre >[1] &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot;</pre></div>

</div><div class = 'col-6'><h3>Remember what the <code>:</code> operator does?</h3>

<p>Take a look:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>3:10</pre>

<pre >[1]  3  4  5  6  7  8  9 10</pre></div>

</div></div>

<p>Can you see how <code>LETTERS[3:10]</code> works now?</p>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Exercise</h2></hgroup><article  id="exercise" class="smaller vs2">

<div class = 'row'><div class = 'box col-8'><h3>find a way to output</h3>

<div class="chunk shadow">
<pre >[1] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;</pre></div>

</div></div>

<div class = 'row'><div class = 'box col-8'><h3>find a way to output</h3>

<div class="chunk shadow">
<pre >[1] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;G&quot;</pre></div>

</div></div>

<div class = 'row'><div class = 'box col-8 stretch'><h3>find a way to output first 5 letters + one to the last</h3>

<div class="chunk shadow">
<pre >[1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;Y&quot;</pre></div>

</div><div class = 'box col-4 bg-blue'><h3>Tip</h3>

<p>the length of a vector is provided by <code>length()</code></p>

</div></div><div class = 'row'><div class = 'box col-8 stretch'><h3>find a way to output all letters <strong>except</strong> the first one</h3>

<div class="chunk shadow">
<pre > [1] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot;
[18] &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</pre></div>

</div><div class = 'box col-4 bg-blue'><h3>Tip</h3>

<p>subsetting could use negative indexes</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Solution</h2></hgroup><article  id="solution" class="smaller vs2">

<ul>
<li>indexes from <strong>2</strong> to <strong>5</strong></li>
</ul>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>LETTERS[2:5]</pre></div>

<div class="col-6">
<pre >[1] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;</pre></div></div></div>

<p></br> - indexes from <strong>2</strong> to <strong>5</strong> + <strong>7</strong></p>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>LETTERS[c(2:5, 7)]</pre></div>

<div class="col-6">
<pre >[1] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;G&quot;</pre></div></div></div>

<p></br> - indexes from <strong>1</strong> to <strong>5</strong> + last one</p>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>LETTERS[c(1:5, length(LETTERS) - 1)]</pre></div>

<div class="col-6">
<pre >[1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;Y&quot;</pre></div></div></div>

<p></br> - indexes except <strong>1</strong></p>

<div class="chunk shadow">
<div class="row">
<div class="col-6">
<pre class = 'prettyprint lang-r'>LETTERS[-1]</pre></div>

<div class="col-6">
<pre > [1] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot;
[18] &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</pre></div></div></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Named vectors</h2></hgroup><article  id="named-vectors" class="smaller vs2">

<p>Like the <code>dict</code> in <strong>python</strong> or associative array in <strong>Perl</strong>, characters can be used as indexes</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>char_vec[1]</pre>

<pre >[1] &quot;dog&quot;</pre>

<pre class = 'prettyprint lang-r'>names(char_vec) &lt;- c(&quot;first&quot;, &quot;second&quot;, &quot;third&quot;)
char_vec[&quot;first&quot;]</pre>

<pre >first 
&quot;dog&quot; </pre></div>

<p>Of note, see that the <code>[1]</code> is no longer displayed</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>char_vec</pre>

<pre > first second  third 
 &quot;dog&quot;  &quot;cat&quot;  &quot;ape&quot; </pre></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectorized operation</h2></hgroup><article  id="vectorized-operation" class="smaller vs2">

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>my_vec &lt;- 10:18
my_vec + 2</pre>

<pre >[1] 12 13 14 15 16 17 18 19 20</pre></div>

<p></br></p>

<p><strong>R</strong> <em>recycles</em> vectors that are too short, without any warnings:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>my_vec * c(1:3)</pre>

<pre >[1] 10 22 36 13 28 45 16 34 54</pre></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectorized operation </h2><h3> (cont.)</h3></hgroup><article  id="vectorized-operation-cont." class="smaller vs2">

<p>Have a look at the following operation:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>c(1:3) + c(1:2) * c(1:4)</pre>

<pre >Warning in c(1:3) + c(1:2) * c(1:4): longer object length is not a multiple
of shorter object length</pre>

<pre >[1] 2 6 6 9</pre></div>

<div class = 'row'><div class = 'box col-8 bg-green'><h3>Details</h3>

<p>Steps <em>R</em> performs <em>behind the scene</em> are:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>c(1, 2, 3, 1) + (c(1, 2, 1, 2) * c(1, 2, 3, 4))</pre>

<pre >[1] 2 6 6 9</pre></div>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>c(1, 2, 3, 1) + c(1, 4, 3, 8)</pre>

<pre >[1] 2 6 6 9</pre></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Vectors </h2><h3> tricky filling</h3></hgroup><article  id="vectors-tricky-filling" class="smaller vs2">

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>x &lt;- numeric(10)
x[20] &lt;- 1
head(x, 20)</pre>

<pre > [1]  0  0  0  0  0  0  0  0  0  0 NA NA NA NA NA NA NA NA NA  1</pre></div>

<p><span class="small">
source: <a href='http://kevinushey.github.io/blog/2015/04/05/debugging-with-valgrind/' title=''>Kevin Ushey</a></span></p>

<div class = 'row'><div class = 'box col-6 bg-orange'><h3>Warning!</h3>

<p>Unlike <strong>python</strong> that will output <span class="error">
index out of range</span>, R <strong>expand</strong> and fill with <strong>missing values</strong> silently</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Factors</h2></hgroup><article  id="factors-1" class="smaller ">

<p>Vectors with qualitative data</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>my_f &lt;- factor(c(&quot;cytoplasm&quot;, &quot;nucleus&quot;, &quot;extracellular&quot;, &quot;nucleus&quot;, &quot;nucleus&quot;))
my_f</pre>

<pre >[1] cytoplasm     nucleus       extracellular nucleus       nucleus      
Levels: cytoplasm extracellular nucleus</pre></div>

<div class = 'row'><div class = 'box col-6'><h3>Representation</h3>

<p>Actually, data are represented with numbers</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>str(my_f)</pre>

<pre > Factor w/ 3 levels &quot;cytoplasm&quot;,&quot;extracellular&quot;,..: 1 3 2 3 3</pre></div>

</div><div class = 'box col-6 stretch'><h3>Dictionary</h3>

<p>ids are called <strong>levels</strong>. Default is alphabetical sorting</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>levels(my_f)</pre>

<pre >[1] &quot;cytoplasm&quot;     &quot;extracellular&quot; &quot;nucleus&quot;      </pre></div>

</div></div>

<div class = 'row'><div class = 'col-10 middle'>

<p>For moving around those <code>levels</code>, safest way is to use the <a href='http://forcats.tidyverse.org/' title=''>forcats</a> package</p>

</div><div class = 'col-2 box'>

<img src='http://forcats.tidyverse.org/logo.png' title='fig:'/>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Matrix</h2></hgroup><article  id="matrix" class="smaller vs2">

<p>A matrix is a <strong>2D</strong> array</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>M &lt;- matrix(1:6, ncol = 2, nrow = 3)
M</pre>

<pre >     [,1] [,2]
[1,]    1    4
[2,]    2    5
[3,]    3    6</pre></div>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>M &lt;- matrix(1:6, ncol = 2, nrow = 3, byrow = TRUE)
M</pre>

<pre >     [,1] [,2]
[1,]    1    2
[2,]    3    4
[3,]    5    6</pre></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Array</h2></hgroup><article  id="array" class="smaller ">

<p>Similar to a matrix but with dimensions \(\geq\) 3D</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>A &lt;- array(1:24, dim = c(2, 4, 3))
A</pre>

<pre >, , 1

     [,1] [,2] [,3] [,4]
[1,]    1    3    5    7
[2,]    2    4    6    8

, , 2

     [,1] [,2] [,3] [,4]
[1,]    9   11   13   15
[2,]   10   12   14   16

, , 3

     [,1] [,2] [,3] [,4]
[1,]   17   19   21   23
[2,]   18   20   22   24</pre></div>

</article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Lists</h2></hgroup><article  id="lists-1" class="smaller vs2">

<p>Also named <em>recursive vectors</em>. Most permissive type, could contain anything and be nested!</p>

<div class = 'row'><div class = 'box col-8'>

<p><img src="http://r4ds.had.co.nz/diagrams/lists-structure.png" width="90%" /></p>

</div><div class = 'col-4'>

<ul>
<li><strong>squares</strong> are atomic</li>
<li><strong>rounded</strong> are lists</li>
</ul>

<p><span class="small">
source: <strong>H. Wickham</strong> - <a href='http://r4ds.had.co.nz/vectors.html#lists' title=''><em>R</em> for data science</a>, <a href='http://creativecommons.org/licenses/by-nc-nd/3.0/us/' title=''>licence CC</a></span></p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Lists </h2><h3> Pepper analogy</h3></hgroup><article  id="lists-pepper-analogy" class="smaller vs2">

<div class = 'row'><div class = 'col-6'>

<blockquote class="twitter-tweet" data-lang="fr">

<p lang="en" dir="ltr">

Indexing lists in <a href="https://twitter.com/hashtag/rstats?src=hash">#rstats</a>. Inspired by the Residence Inn <a href="http://t.co/YQ6axb2w7t">pic.twitter.com/YQ6axb2w7t</a>

</p>

— Hadley Wickham (<span class="cite">@hadleywickham</span>) <a href="https://twitter.com/hadleywickham/status/643381054758363136">14 septembre 2015</a>

</blockquote>

<script async src="https//platform.twitter.com/widgets.js" charset="utf-8"></script>

</div><div class = 'box col-6'><h3>Example</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>l &lt;- list(name = &quot;Farina&quot;,
          firstname = &quot;Geoff&quot;,
          year = 1995)</pre></div>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>l[&quot;firstname&quot;]</pre>

<pre >$firstname
[1] &quot;Geoff&quot;</pre>

<pre class = 'prettyprint lang-r'>l[[&quot;firstname&quot;]]</pre>

<pre >[1] &quot;Geoff&quot;</pre></div>

</div></div><div class = 'row'><div class = 'box col-5 bg-yellow'><h3>Question</h3>

<p>How to subset a single pepper seed?</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Data frames</h2></hgroup><article  id="data-frames" class="smaller vs2">

<p>It&#39;s the most important type to recall. All the <code>tidyverse</code> is focusing on those.</p>

<p>Actually on tweaked <code>data.frame</code>: <strong>tibbles</strong></p>

<div class = 'row'><div class = 'box col-6 bg-green'><h3>definition</h3>

<p>data.frame are lists where all columns (<em>i.e</em> <code>vectors</code>) are of the <strong>same</strong> length</p>

</div><div class = 'box col-6'><h3>built-in example</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>women</pre>

<pre >   height weight
1      58    115
2      59    117
3      60    120
4      61    123
5      62    126
6      63    129
7      64    132
8      65    135
9      66    139
10     67    142
11     68    146
12     69    150
13     70    154
14     71    159
15     72    164</pre></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Data frames </h2><h3> subset</h3></hgroup><article  id="data-frames-subset" class="smaller ">

<p>We can extract a vector (colum) from a data frame in a few different ways:</p>

<div class = 'row'><div class = 'box col-6'><h3>Using the double <code>[[]]</code></h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>women[[&quot;height&quot;]]</pre>

<pre > [1] 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72</pre></div>

</div><div class = 'box col-6'><h3>Or its alias: the <code>$</code> operator</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>women$height</pre>

<pre > [1] 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72</pre></div>

<p></br></p>

</div></div><div class = 'row'><div class = 'box col-9 bg-yellow'><h3>Remember the <em>pepper analogy</em> introduced by Hadley?</h3>

<p>What would be the output of <code>women[&quot;height&quot;]</code>?</p>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Data frame as a table</h2></hgroup><article  id="data-frame-as-a-table" class="smaller vs2">

<p>A data frame can be considered as a table and extract a specify a cell by its <code>row</code> and <code>column</code>:</p>

<div class = 'row'><div class = 'box col-6'><h3>first 5 rows</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>head(women, 5)</pre>

<pre >  height weight
1     58    115
2     59    117
3     60    120
4     61    123
5     62    126</pre></div>

</div><div class = 'box col-6'><h3>only one cell with <code>[]</code></h3>

<ul>
<li>first coordinate = <strong>row</strong>, col]</li>
<li>second coordinate = <strong>col</strong></li>
</ul>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>women[4, 2] </pre>

<pre >[1] 123</pre></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Logical operators</h2></hgroup><article  id="logical-operators" class="smaller ">

<p>In addition to the arithmetic operators</p>

<div class = 'row'><div class = 'bg-green box col-9'><h3>Perform comparisons</h3>

<ul>
<li><code>==</code> equal</li>
<li><code>!=</code> different</li>
<li><code>&lt;</code> smaller</li>
<li><code>&lt;=</code> smaller <strong>or</strong> equal</li>
<li><code>&gt;</code> greater</li>
<li><code>&gt;=</code> greater <strong>or</strong> equal</li>
<li><code>!</code> is not</li>
<li><code>&amp;</code>, <code>&amp;&amp;</code> and</li>
<li><code>|</code>, <code>||</code> or</li>
</ul>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Using <code>library()</code></h2></hgroup><article  id="using-library" class="smaller vs2">

<div class = 'row'><div class = 'col-6 box bg-yellow'><h3>with only <code>base</code> loaded</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>x &lt;- 1:10
filter(x, rep(1, 3))</pre>

<pre >Time Series:
Start = 1 
End = 10 
Frequency = 1 
 [1] NA  6  9 12 15 18 21 24 27 NA</pre></div>

</div><div class = 'box col-6 bg-red'><h3>Conflicts! when 2 packages export a function</h3>

<p>with the same name, the latest loaded wins</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>library(dplyr)
filter(x, rep(1, 3))</pre></div>

<style type="text/css">
.error {
    font-family: monospace;
    color: red;
}
</style>

<p><span class="error">
Error in UseMethod(&quot;filter_&quot;) : no applicable method for &#39;filter_&#39; applied to an object of class &quot;c(&#39;integer&#39;, &#39;numeric&#39;)</span></p>

</div></div><div class = 'row'><div class = 'box col-10 offset-1 bg-green'><h3><strong>Solution</strong></h3>

<p>using the <code>::</code> operator to call a function from a specific package</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>stats::filter(x, rep(1, 3))</pre>

<pre >Time Series:
Start = 1 
End = 10 
Frequency = 1 
 [1] NA  6  9 12 15 18 21 24 27 NA</pre></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Pipes with magrittr </h2><h3> developed by Stefan Milton Bache</h3></hgroup><article  id="pipes-with-magrittr-developed-by-stefan-milton-bache" class="smaller ">

<img src='https://d21ii91i3y6o6h.cloudfront.net/gallery_images/from_proof/3632/small/1419844831/magrittr.png' title='fig:'/>

<p>compare the approaches between classic parenthesis and the <a href='https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html' title=''>magrittr</a> pipeline</p>

<div class = 'row'><div class = 'bg-yellow box col-6'><h3>R base</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>set.seed(12)
round(mean(rnorm(5)), 2)</pre>

<pre >[1] -0.76</pre></div>

</div><div class = 'bg-green box col-6'><h3>magrittr</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>set.seed(12)
rnorm(5) %&gt;%
  mean() %&gt;%
  round(2)</pre>

<pre >[1] -0.76</pre></div>

<p>Of note, <code>magrittr</code> needs to loaded with either:</p>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'>library(magrittr)
library(dplyr)
library(tidyverse)</pre></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Coding&#39;s style</h2></hgroup><article  id="codings-style" class="smaller ">

<p><code>R</code> is rather flexible and permissive with its syntax. However, being more strict tends to ease the debugging process.</p>

<p>See <a href='http://style.tidyverse.org/' title=''>tidyverse style&#39;s recommendations</a></p>

<p>In summary:</p>

<div class = 'row'><div class = 'bg-green box col-6'><h3>Good</h3>

<ul>
<li>use <strong>spaces</strong></li>
<li>use more <strong>lines</strong>

<ul>
<li><code>}</code> alone on their line except for</li>
</ul>

<div class="chunk shadow">
<p><code>r   } else {</code></p></div>

<ul>
<li>using the pipe <code>%&gt;%</code> to display a single instruction per line</li>
<li>break list definitions, function arguments &#8230;</li>
</ul></li>
<li>avoid using names of existing functions and variables</li>
<li>use <strong><code>snake_case</code></strong> more than <code>CamelCases</code></li>
</ul>

</div><div class = 'bg-red box col-6'><h3>Bad</h3>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'># example from http://adv-r.had.co.nz/Style.html
T &lt;- FALSE
c &lt;- 10
mean &lt;- function(x) sum(x)</pre></div>

<div class="chunk shadow">
<pre class = 'prettyprint lang-r'># lack spaces for readibility
average&lt;-mean(feet/12+inches,na.rm=TRUE)</pre></div>

</div></div></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide><slide class=''><hgroup><h2>Hexbins</h2></hgroup><article  id="hexbins" class="smaller ">

<p>After David Robinson&#39; laptop, see and get inspired!</p>

<div class = 'row'><div class = 'col-6'><h3>Hadley Wickham</h3>

<img src='img/02_hexbin_hadley.jpg' title='fig:'/>

</div><div class = 'col-6'><h3>Bob Rudis</h3>

<img src='img/02_hexbin_hrbrmstr.jpg' title='fig:'/></article><div class = "footer"><a href='https://lsru.github.io/tv_course/'>R tidyverse workshop</a></div></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<script>
  (function () {
    footers = document.getElementsByClassName('footer');
    //imgsrc = document.getElementsByClassName("gdbar")[0].getElementsByTagName('img')[0].src;
    [].slice.call(footers).forEach(function (footer) {
      footer.innerHTML = "<img src=lecture02_data_structure_files/logo.png>" + footer.innerHTML; // This is the same behaviour as the standard ioslides: logo is not self-contained
      //footer.innerHTML = "<img src=\"" + imgsrc + "\">" + footer.innerHTML; // disabling to avoid binary data replication...
    });
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
